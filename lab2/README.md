Реализация алгоритма template matching.

1) Теоретическая база

Цель алгоритма - найти объект (шаблон) на полной картинке. Для этого шаблон "проходится" по картинке, и на каждой итерация считается некоторая метрика схожести между пикселями на шаблоне и части картинки, на которую идёт наложение. По итогам прохода выбирается часть картинки с наименьшим значением метрики, то есть наиболее похожая. Результатом работы алгоритма является выделенная область, которую можно выделить прямоугольником, наиболее походая на искомый объект.

Также стоит отметить, что поиск осуществляется только между одноканальными картинками, поэтому перед выполнением алгоритма следует перевести изображения в одноканальные.

Существует несколько метрик схожести шаблона и картинки. Наиболее используемые - это сумма квадратов разниц пикселей (SSD) и кросс-корреляция (CCORR). Для изображения f размера ixj и шаблона g размера axb формулы для расчёта этих метрик выглядят следующим образом:

![image](https://github.com/user-attachments/assets/62ceb24e-cade-4042-a8d8-23812fdc8300)

Кроме того, существуют метрики, основанные на нормированных значениях вышеописанных метрик.

2) Описание разработанной системы

В рамках программы была реализована функция template_search, принимающая на вход изображение, шаблон и метрику схожести. Сначала обе картинки переводятся в одноканальное изображение, после чего применяется функция matchTemplate из библиотеки opencv, выдающая координаты области изображения с наименьшим значением метрики схожести с шаблоном. После этого находятся координаты углов прямоугольника, выделяющего эту область, он рисуется на изображении и подаётся на выход.

В дальнейшем каждая из картинок и шаблонов подавалась на вход этой функции и выводилась картинка с её выходом, после чего выяснялось, успешно отработал алгоритм или нет.



